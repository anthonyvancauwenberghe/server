package org.hyperion.rs2.packet;

import org.hyperion.rs2.model.Player;
import org.hyperion.rs2.model.FriendsAssistant;
import org.hyperion.rs2.net.Packet;

public class FriendModifier implements PacketHandler {


	public static final int REGULAR_CHAT = 4, UPDATE_CHAT_OPTIONS = 95,
			FRIEND_ADD = 188, FRIEND_REMOVE = 215, IGNORE_ADD = 133,
			IGNORE_REMOVE = 74, PRIVATE_MESSAGE = 126;
	
	@Override
	public void handle(Player player, Packet packet) {
		if(packet.getOpcode() == PRIVATE_MESSAGE){//pm
			long to = packet.getLong();
			int chatTextSize = (byte) (packet.getLength()-8);
			byte[] chatText = new byte[256];
			packet.get(chatText,0, chatTextSize);
			FriendsAssistant.sendPm(player,to, chatText, chatTextSize);
			
		} else if(packet.getOpcode() == FRIEND_ADD){
			long g = packet.getLong();
			FriendsAssistant.addFriend(player,g);
			
		} else if(packet.getOpcode() == FRIEND_REMOVE){
			long g = packet.getLong();
			FriendsAssistant.removeFriend(player,g);
			
		} else if(packet.getOpcode() == IGNORE_ADD){
			long g = packet.getLong();
			FriendsAssistant.addIgnore(player,g);
			
		} else if(packet.getOpcode() == IGNORE_REMOVE){
			long g = packet.getLong();
			FriendsAssistant.removeIgnore(player,g);
		}
	}

		
}

