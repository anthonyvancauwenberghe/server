package org.hyperion.rs2.model.combat.attack;

import org.hyperion.rs2.event.Event;
import org.hyperion.rs2.model.Attack;
import org.hyperion.rs2.model.Location;
import org.hyperion.rs2.model.NPC;
import org.hyperion.rs2.model.World;
import org.hyperion.rs2.model.combat.CombatEntility;
import org.hyperion.rs2.model.combat.Combat;

public class CommonMagicAttack implements Attack {

	public String getName(){
		return "CommonMagicAttack";
	}
	
	public int handleAttack(final NPC n,final CombatEntility attack){
		int distance = attack.getEntity().getLocation().distance((Location.create(n.cE.getEntity().getLocation().getX() + n.cE.getOffsetX(),n.cE.getEntity().getLocation().getY() + n.cE.getOffsetY(), n.cE.getEntity().getLocation().getZ())));
		if(distance < (8+((n.getDefinition().sizeX() + n.getDefinition().sizeY()) / 2))){
			
			return 5;
		} else if(n.getLocation().isWithinDistance(n.cE.getOpponent().getEntity().getLocation(),14)){
			return 0;
		} else {
			return 1;
		}	
	}
	static {
		npcIds[0] = 3200;
	}
}
